(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),r=a(9),n=a.n(r),i=(a(90),a(91),a(16)),l=a(14),j=a(10),o=a.n(j),d=a(30),b=a(2);var m=Object(d.b)((e=>({user:e.user})))((e=>{var t,a;return Object(b.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(b.jsx)("a",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",href:"#",children:"Company name"}),Object(b.jsxs)("ul",{className:"my-2 my-md-0 mr-md-3",children:[Object(b.jsxs)(i.b,{to:"/profile",className:"p-2 text-white text-decoration-none",children:[null===(t=e.user)||void 0===t?void 0:t.first_name," ",null===(a=e.user)||void 0===a?void 0:a.last_name]}),Object(b.jsx)(i.b,{to:"/login",className:"p-2 text-white text-decoration-none",onClick:async()=>await o.a.post("logout"),children:"Sign out"})]})]})}));var h=()=>Object(b.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(b.jsx)("div",{className:"position-sticky pt-3",children:Object(b.jsxs)("ul",{className:"nav flex-column",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.c,{to:"/users",className:"nav-link","aria-current":"page",children:"Users"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.c,{to:"/products",className:"nav-link","aria-current":"page",children:"Products"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.c,{to:"/orders",className:"nav-link","aria-current":"page",children:"Orders"})})]})})});const O=e=>({type:"SET_USER",user:e});var x=Object(d.b)((e=>({user:e.user})),(e=>({setUser:t=>e(O(t))})))((e=>{const[t,a]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await o.a.get("user");e.setUser(t)}catch(t){a(!0)}})()}),[]),t?Object(b.jsx)(l.a,{to:"/login"}):Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(h,{}),Object(b.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:Object(b.jsx)("div",{className:"table-responsive",children:e.children})})]})})]})})),u=a(156),p=a(160),g=a(161),v=a(162),f=a(163),w=a(164),N=a(165),y=a(172);var S=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(0);return Object(s.useEffect)((()=>{(async()=>{const{data:e}=await o.a.get("ambassadors");t(e)})()}),[]),Object(b.jsx)(x,{children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:"#"}),Object(b.jsx)(v.a,{children:"Name"}),Object(b.jsx)(v.a,{children:"Email"}),Object(b.jsx)(v.a,{children:"Actions"})]})}),Object(b.jsx)(f.a,{children:e.slice(10*a,10*(a+1)).map((e=>Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:e.id}),Object(b.jsxs)(v.a,{children:[e.first_name," ",e.last_name]}),Object(b.jsx)(v.a,{children:e.email}),Object(b.jsx)(v.a,{children:Object(b.jsx)(w.a,{variant:"contained",color:"primary",href:"users/".concat(e.id,"/links"),children:"View"})})]},e.id)))}),Object(b.jsx)(N.a,{children:Object(b.jsx)(y.a,{count:e.length,page:a,onPageChange:(e,t)=>c(t),rowsPerPage:10,rowsPerPageOptions:[]})})]})})};a(121);var C=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)(""),[r,n]=Object(s.useState)(!1);return r?Object(b.jsx)(l.a,{to:"/"}):Object(b.jsx)("main",{className:"form-signin d-flex align-items-center justify-content-center",children:Object(b.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await o.a.post("login",{email:e,password:a}),n(!0)},className:"placeitems",children:[Object(b.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",onChange:e=>t(e.target.value)}),Object(b.jsx)("label",{htmlFor:"floatingInput",children:"Email address"})]}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password",onChange:e=>c(e.target.value)}),Object(b.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(b.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"})]})})};class P extends s.Component{constructor(){super(...arguments),this.firstName="",this.lastName="",this.email="",this.password="",this.passwordConfirm="",this.state={redirect:!1},this.submit=async e=>{e.preventDefault(),await o.a.post("register",{first_name:this.firstName,last_name:this.lastName,email:this.email,password:this.password,password_confirm:this.passwordConfirm}),this.setState({redirect:!0})}}render(){return this.state.redirect?Object(b.jsx)(l.a,{to:"/login"}):Object(b.jsx)("main",{className:"form-signin",children:Object(b.jsxs)("form",{onSubmit:this.submit,children:[Object(b.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please register"}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{className:"form-control",placeholder:"First Name",onChange:e=>this.firstName=e.target.value}),Object(b.jsx)("label",{children:"First Name"})]}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{className:"form-control",placeholder:"Last Name",onChange:e=>this.lastName=e.target.value}),Object(b.jsx)("label",{children:"Last Name"})]}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:"email",className:"form-control",placeholder:"name@example.com",onChange:e=>this.email=e.target.value}),Object(b.jsx)("label",{children:"Email address"})]}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:e=>this.password=e.target.value}),Object(b.jsx)("label",{children:"Password"})]}),Object(b.jsxs)("div",{className:"form-floating",children:[Object(b.jsx)("input",{type:"password",className:"form-control",placeholder:"Password Confirm",onChange:e=>this.passwordConfirm=e.target.value}),Object(b.jsx)("label",{children:"Password Confirm"})]}),Object(b.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"})]})})}}var _=P;const E=()=>Object(b.jsx)(l.a,{to:"/users"});var k=e=>{const[t,a]=Object(s.useState)([]),[c,r]=Object(s.useState)(0);return Object(s.useEffect)((()=>{(async()=>{const{data:t}=await o.a.get("users/".concat(e.match.params.id,"/links"));a(t)})()}),[]),Object(b.jsx)(x,{children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:"#"}),Object(b.jsx)(v.a,{children:"Code"}),Object(b.jsx)(v.a,{children:"Count"}),Object(b.jsx)(v.a,{children:"Revenue"})]})}),Object(b.jsx)(f.a,{children:t.slice(10*c,10*(c+1)).map((e=>Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:e.id}),Object(b.jsx)(v.a,{children:e.code}),Object(b.jsx)(v.a,{children:e.orders.length}),Object(b.jsx)(v.a,{children:e.orders.reduce(((e,t)=>e+t.total),0)})]},e.id)))}),Object(b.jsx)(N.a,{children:Object(b.jsx)(y.a,{count:t.length,page:c,onPageChange:(e,t)=>r(t),rowsPerPage:10,rowsPerPageOptions:[]})})]})})},D=a(177);var F=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(0);Object(s.useEffect)((()=>{(async()=>{const{data:e}=await o.a.get("products");t(e)})()}),[]);return Object(b.jsxs)(x,{children:[Object(b.jsx)("div",{className:"pt-3 pb-2 mb-3 border-bottom",children:Object(b.jsx)(w.a,{href:"/products/create",variant:"contained",color:"primary",children:"Add"})}),Object(b.jsxs)(u.a,{children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:"#"}),Object(b.jsx)(v.a,{children:"Image"}),Object(b.jsx)(v.a,{children:"Title"}),Object(b.jsx)(v.a,{children:"Description"}),Object(b.jsx)(v.a,{children:"Price"}),Object(b.jsx)(v.a,{children:"Actions"})]})}),Object(b.jsx)(f.a,{children:e.slice(10*a,10*(a+1)).map((a=>Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:a.id}),Object(b.jsx)(v.a,{children:Object(b.jsx)("img",{src:a.image,width:50})}),Object(b.jsx)(v.a,{children:a.title}),Object(b.jsx)(v.a,{children:a.description}),Object(b.jsx)(v.a,{children:a.price}),Object(b.jsx)(v.a,{children:Object(b.jsxs)(D.a,{children:[Object(b.jsx)(w.a,{variant:"contained",color:"primary",href:"/products/".concat(a.id,"/edit"),children:"Edit"}),Object(b.jsx)(w.a,{variant:"contained",color:"secondary",onClick:()=>(async a=>{window.confirm("Are you sure?")&&(await o.a.delete("products/".concat(a)),t(e.filter((e=>e.id!==a))))})(a.id),children:"Delete"})]})})]},a.id)))}),Object(b.jsx)(N.a,{children:Object(b.jsx)(y.a,{count:e.length,page:a,onPageChange:(e,t)=>c(t),rowsPerPage:10,rowsPerPageOptions:[]})})]})]})},U=a(173);var I=e=>{const[t,a]=Object(s.useState)(""),[c,r]=Object(s.useState)(""),[n,i]=Object(s.useState)(""),[j,d]=Object(s.useState)(""),[m,h]=Object(s.useState)(!1);Object(s.useEffect)((()=>{e.match.params.id&&(async()=>{const{data:t}=await o.a.get("products/".concat(e.match.params.id));a(t.title),r(t.description),i(t.image),d(t.price)})()}),[]);return m?Object(b.jsx)(l.a,{to:"/products"}):Object(b.jsx)(x,{children:Object(b.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const s={title:t,description:c,image:n,price:j};e.match.params.id?await o.a.put("products/".concat(e.match.params.id),s):await o.a.post("products",s),h(!0)},children:[Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Title",value:t,onChange:e=>a(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Description",rows:4,multiline:!0,value:c,onChange:e=>r(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Image",value:n,onChange:e=>i(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Price",type:"number",value:j,onChange:e=>d(e.target.value)})}),Object(b.jsx)(w.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})]})})},T=a(174),A=a(169),L=a(170);var R=()=>{const[e,t]=Object(s.useState)([]);return Object(s.useEffect)((()=>{(async()=>{const{data:e}=await o.a.get("orders");t(e)})()}),[]),Object(b.jsx)(x,{children:e.map((e=>Object(b.jsxs)(T.a,{children:[Object(b.jsxs)(A.a,{children:[e.name," $",e.total]}),Object(b.jsx)(L.a,{children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(p.a,{children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:"#"}),Object(b.jsx)(v.a,{children:"Product Title"}),Object(b.jsx)(v.a,{children:"Price"}),Object(b.jsx)(v.a,{children:"Quantity"})]})}),Object(b.jsx)(f.a,{children:e.order_items.map((e=>Object(b.jsxs)(g.a,{children:[Object(b.jsx)(v.a,{children:e.id}),Object(b.jsx)(v.a,{children:e.product_title}),Object(b.jsx)(v.a,{children:e.price}),Object(b.jsx)(v.a,{children:e.quantity})]},e.id)))})]})})]},e.id)))})};var B=Object(d.b)((e=>({user:e.user})),(e=>({setUser:t=>e(O(t))})))((e=>{const[t,a]=Object(s.useState)(""),[c,r]=Object(s.useState)(""),[n,i]=Object(s.useState)(""),[l,j]=Object(s.useState)(""),[d,m]=Object(s.useState)("");Object(s.useEffect)((()=>{a(e.user.first_name),r(e.user.last_name),i(e.user.email)}),[e.user]);return Object(b.jsxs)(x,{children:[Object(b.jsx)("h3",{children:"Account Information"}),Object(b.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const{data:s}=await o.a.put("users/info",{first_name:t,last_name:c,email:n});e.setUser(s)},children:[Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"First Name",value:t,onChange:e=>a(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Last Name",value:c,onChange:e=>r(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Email",value:n,onChange:e=>i(e.target.value)})}),Object(b.jsx)(w.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})]}),Object(b.jsx)("h3",{className:"mt-4",children:"Change Password"}),Object(b.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await o.a.put("users/password",{password:l,password_confirm:d})},children:[Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Password",type:"password",onChange:e=>j(e.target.value)})}),Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsx)(U.a,{label:"Password Confirm",type:"password",onChange:e=>m(e.target.value)})}),Object(b.jsx)(w.a,{variant:"contained",color:"primary",type:"submit",children:"Submit"})]})]})}));var J=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(l.b,{path:"/",exact:!0,component:E}),Object(b.jsx)(l.b,{path:"/login",component:C}),Object(b.jsx)(l.b,{path:"/register",component:_}),Object(b.jsx)(l.b,{path:"/profile",component:B}),Object(b.jsx)(l.b,{path:"/users",exact:!0,component:S}),Object(b.jsx)(l.b,{path:"/users/:id/links",component:k}),Object(b.jsx)(l.b,{path:"/products",exact:!0,component:F}),Object(b.jsx)(l.b,{path:"/products/create",component:I}),Object(b.jsx)(l.b,{path:"/products/:id/edit",component:I}),Object(b.jsx)(l.b,{path:"/orders",exact:!0,component:R})]})})};var M=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((t=>{let{getCLS:a,getFID:s,getFCP:c,getLCP:r,getTTFB:n}=t;a(e),s(e),c(e),r(e),n(e)}))},q=a(76);const Q={user:new class{constructor(){this.id=void 0,this.first_name=void 0,this.last_name=void 0,this.email=void 0}}},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return"SET_USER"===t.type?{...e,user:t.user}:e};o.a.defaults.baseURL="http://localhost:8300/api/admin/",o.a.defaults.withCredentials=!0;const $=Object(q.a)(V);n.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(d.a,{store:$,children:Object(b.jsx)(J,{})})}),document.getElementById("root")),M()},90:function(e,t,a){},91:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.03cffcef.chunk.js.map